#!/bin/bash
# ğŸš€ START HERE TOMORROW - October 6, 2025
# Quick start script for Phase E.4 Audio Processing

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  ğŸ“… SESIÃ“N OCTUBRE 6, 2025 - FASE E.4: AUDIO PROCESSING       â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Navigate to project
cd /home/eevan/ProyectosIA/SIST_AGENTICO_HOTELERO

echo "âœ… 1. Verificando estado del repositorio..."
git status
git log --oneline -3
echo ""

echo "ğŸ“‹ 2. Resumen de ayer (Octubre 5, 2025):"
echo "   âœ… Limpieza proyecto: -8 archivos, -40KB docs"
echo "   âœ… ConsolidaciÃ³n: .playbook 7 â†’ 8 archivos"
echo "   âœ… Plan E.4 creado: 9 tareas, 5.5 horas"
echo "   âœ… 4 commits pusheados a GitHub"
echo "   âœ… Quality Score: 9.8/10 (mantenido)"
echo ""

echo "ğŸ¯ 3. Trabajo de hoy - Fase E.4 (5.5 horas):"
echo ""
echo "   ğŸ“ PRIORIDAD 1: Infraestructura Base (2h)"
echo "   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "   â”‚ Task 6: Error Handling (30 min)                 â”‚"
echo "   â”‚   â€¢ Crear audio_exceptions.py                   â”‚"
echo "   â”‚   â€¢ 7-tier exception hierarchy                  â”‚"
echo "   â”‚   ğŸ”œ EMPEZAR AQUÃ                               â”‚"
echo "   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "   â”‚ Task 3: Audio Download (30 min)                 â”‚"
echo "   â”‚   â€¢ _download_audio() implementation            â”‚"
echo "   â”‚   â€¢ WhatsApp media integration                  â”‚"
echo "   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "   â”‚ Task 4: Audio Conversion (30 min)               â”‚"
echo "   â”‚   â€¢ _convert_to_wav() implementation            â”‚"
echo "   â”‚   â€¢ FFmpeg integration                          â”‚"
echo "   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "   â”‚ Task 5: Prometheus Metrics (30 min)             â”‚"
echo "   â”‚   â€¢ 8 new audio metrics                         â”‚"
echo "   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "   ğŸ“ PRIORIDAD 2: Features Core (1.75h)"
echo "   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "   â”‚ Task 1: Whisper STT Integration (60 min)        â”‚"
echo "   â”‚   â€¢ Real Spanish transcription                  â”‚"
echo "   â”‚   â€¢ Replace mock implementation                 â”‚"
echo "   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "   â”‚ Task 2: eSpeak TTS Implementation (45 min)      â”‚"
echo "   â”‚   â€¢ Spanish voice synthesis                     â”‚"
echo "   â”‚   â€¢ OGG Opus output                             â”‚"
echo "   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""
echo "   ğŸ“ PRIORIDAD 3: Testing & Docs (1.75h)"
echo "   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
echo "   â”‚ Task 7: Integration Tests (60 min)              â”‚"
echo "   â”‚   â€¢ 18+ tests (STT, TTS, AudioProcessor)        â”‚"
echo "   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "   â”‚ Task 8: E2E Tests (45 min)                      â”‚"
echo "   â”‚   â€¢ 4+ WhatsApp audio flow tests                â”‚"
echo "   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
echo "   â”‚ Task 9: Documentation (30 min)                  â”‚"
echo "   â”‚   â€¢ PROJECT_GUIDE.md audio section              â”‚"
echo "   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
echo ""

echo "ğŸ“š 4. Archivos clave para revisar:"
echo "   1. .playbook/PHASE_E4_AUDIO_PROCESSING_PLAN.md (LEER PRIMERO)"
echo "   2. .playbook/SESSION_OCT5_2025_COMPLETE.md (resumen ayer)"
echo "   3. app/services/audio_processor.py (cÃ³digo actual)"
echo "   4. app/utils/audio_converter.py (ogg_to_wav listo)"
echo ""

echo "ğŸ”§ 5. Prerequisitos (instalar primero):"
echo "   sudo apt-get update"
echo "   sudo apt-get install -y espeak-ng ffmpeg libsndfile1"
echo "   pip install openai-whisper pyttsx3"
echo ""

echo "ğŸš€ 6. Comandos iniciales:"
echo "   # Ver plan detallado"
echo "   cat .playbook/PHASE_E4_AUDIO_PROCESSING_PLAN.md"
echo ""
echo "   # Crear archivo de excepciones (Task 6)"
echo "   touch agente-hotel-api/app/exceptions/audio_exceptions.py"
echo "   code agente-hotel-api/app/exceptions/audio_exceptions.py"
echo ""
echo "   # Ejecutar tests"
echo "   cd agente-hotel-api && pytest tests/ -v"
echo ""

echo "ğŸ“Š 7. MÃ©tricas objetivo despuÃ©s de E.4:"
echo "   Quality Score:   9.8 â†’ 9.9 (+0.1)"
echo "   Tests:           110 â†’ 132 (+22)"
echo "   Audio:           Mock â†’ Real (STT + TTS)"
echo "   Completeness:    95% â†’ 98% (+3%)"
echo ""

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  ğŸ¯ META HOY: Completar Fase E.4 â†’ Proyecto ~98% completo     â•‘"
echo "â•‘  â±ï¸  ESTIMADO: 5.5 horas                                       â•‘"
echo "â•‘  ğŸ¤ RESULTADO: Experiencia multi-canal (Text + Voice)          â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

read -p "Presiona Enter para abrir el plan detallado de E.4..."
cat .playbook/PHASE_E4_AUDIO_PROCESSING_PLAN.md | less

echo ""
echo "âœ¨ Â¡Listo para empezar! Comienza con Task 6 (audio_exceptions.py)"
echo ""
